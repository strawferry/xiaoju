<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”µè½¦å……ç”µæ•°æ®å¯è§†åŒ–é¢æ¿ - ä¿®æ”¹ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #141b3d;
            --bg-card: #1a2147;
            --accent-primary: #00f2ff;
            --accent-secondary: #ff00e6;
            --text-primary: #ffffff;
            --text-secondary: #a0a8c9;
            --success: #00ff88;
            --warning: #ffaa00;
            --danger: #ff3366;
            --border: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #1a1f3a 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 30%, rgba(0, 242, 255, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(255, 0, 230, 0.1) 0%, transparent 40%);
            pointer-events: none;
            z-index: 0;
            animation: backgroundPulse 8s ease-in-out infinite;
        }

        @keyframes backgroundPulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.8; }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px 20px;
            background: rgba(26, 33, 71, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid var(--border);
            box-shadow: 0 10px 40px rgba(0, 242, 255, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(45deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(0, 242, 255, 0.3);
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1em;
        }

        /* ç»Ÿè®¡å¡ç‰‡ - ä½¿ç”¨æœ€ç»ˆä»˜æ¬¾é‡‘é¢ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border);
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 242, 255, 0.2);
            border-color: var(--accent-primary);
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--accent-primary);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9em;
        }

        /* æ ‡ç­¾é¡µå¯¼èˆª */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 12px 24px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
            font-weight: 500;
        }

        .tab-btn:hover {
            background: rgba(0, 242, 255, 0.1);
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .tab-btn.active {
            background: linear-gradient(45deg, var(--accent-primary), var(--accent-secondary));
            color: var(--bg-primary);
            border-color: transparent;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(0, 242, 255, 0.3);
        }

        /* æœç´¢å’Œç­›é€‰ */
        .controls {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border);
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 12px 15px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.2);
        }

        .filter-select {
            padding: 12px 15px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-select:hover, .filter-select:focus {
            border-color: var(--accent-primary);
            outline: none;
        }

        /* è§†å›¾å®¹å™¨ */
        .view-container {
            display: none;
        }

        .view-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* åˆ—è¡¨è§†å›¾ - ä¿®æ”¹ç‰ˆ */
        .list-view {
            display: grid;
            gap: 15px;
        }

        .record-card {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .record-card:hover {
            border-color: var(--accent-primary);
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0, 242, 255, 0.15);
        }

        .record-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }

        .record-station {
            font-size: 1.1em;
            font-weight: bold;
            color: var(--text-primary);
        }

        .record-payment {
            font-size: 1.4em;
            font-weight: bold;
            color: var(--success);
        }

        .record-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            font-size: 0.9em;
            color: var(--text-secondary);
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .detail-label {
            font-size: 0.85em;
            opacity: 0.8;
        }

        .detail-value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .fee-breakdown {
            display: flex;
            gap: 15px;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px dashed var(--border);
            font-size: 0.85em;
        }

        .fee-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .fee-item.ele { color: var(--accent-primary); }
        .fee-item.serv { color: var(--warning); }
        .fee-item.total { color: var(--success); font-weight: bold; }

        /* æ—¥å†æ—¶é—´çº¿è§†å›¾ */
        .calendar-view {
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
            padding: 20px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }

        .calendar-title {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--accent-primary);
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            padding: 8px 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
            border-color: var(--accent-primary);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: bold;
            color: var(--text-secondary);
            padding: 10px 5px;
            font-size: 0.9em;
        }

        .calendar-day {
            aspect-ratio: 1;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .calendar-day.empty {
            background: transparent;
            border-color: transparent;
            cursor: default;
        }

        .calendar-day.has-data {
            border-color: var(--accent-primary);
            cursor: pointer;
        }

        .calendar-day.has-data:hover {
            background: rgba(0, 242, 255, 0.15);
            transform: scale(1.05);
        }

        .day-number {
            font-weight: bold;
            color: var(--text-secondary);
            font-size: 0.9em;
        }

        .day-data {
            display: flex;
            flex-direction: column;
            gap: 2px;
            font-size: 0.75em;
        }

        .day-count {
            color: var(--accent-primary);
            font-weight: bold;
        }

        .day-amount {
            color: var(--success);
        }

        .day-details {
            margin-top: 15px;
            padding: 15px;
            background: var(--bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--border);
            display: none;
        }

        .day-details.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .day-details h4 {
            color: var(--accent-primary);
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .day-record {
            padding: 10px;
            margin-bottom: 8px;
            background: var(--bg-card);
            border-radius: 6px;
            border-left: 3px solid var(--accent-primary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .day-record:hover {
            background: rgba(0, 242, 255, 0.1);
            transform: translateX(3px);
        }

        .day-record-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .day-record-time {
            font-size: 0.85em;
            color: var(--text-secondary);
        }

        .day-record-amount {
            color: var(--success);
            font-weight: bold;
        }

        /* åˆ†æè§†å›¾ */
        .analysis-view {
            display: grid;
            gap: 20px;
        }

        .analysis-section {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .analysis-section h3 {
            color: var(--accent-primary);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .month-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .month-card {
            background: var(--bg-secondary);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .month-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .month-card:hover {
            transform: translateY(-3px);
            border-color: var(--accent-primary);
            box-shadow: 0 5px 15px rgba(0, 242, 255, 0.2);
        }

        .month-card:hover::before {
            transform: scaleX(1);
        }

        .month-card.active {
            border-color: var(--accent-primary);
            background: rgba(0, 242, 255, 0.1);
        }

        .month-name {
            font-weight: bold;
            color: var(--accent-secondary);
            margin-bottom: 10px;
            font-size: 1.1em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .month-name .view-btn {
            font-size: 0.7em;
            padding: 4px 8px;
            background: var(--accent-primary);
            color: var(--bg-primary);
            border-radius: 4px;
            font-weight: normal;
        }

        /* æœˆåº¦æ—¥å†å®¹å™¨ */
        .month-calendar-container {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid var(--border);
            display: none;
        }

        .month-calendar-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .month-summary {
            background: linear-gradient(135deg, rgba(0, 242, 255, 0.1), rgba(255, 0, 230, 0.1));
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid var(--border);
        }

        .summary-title {
            font-weight: bold;
            color: var(--accent-primary);
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            font-size: 0.9em;
        }

        .summary-item {
            display: flex;
            flex-direction: column;
            gap: 3px;
        }

        .summary-label {
            color: var(--text-secondary);
            font-size: 0.85em;
        }

        .summary-value {
            color: var(--text-primary);
            font-weight: bold;
            font-size: 1.1em;
        }

        .summary-value.highlight {
            color: var(--success);
            font-size: 1.2em;
        }

        /* æœˆåº¦æ—¥å†ç½‘æ ¼ */
        .month-calendar-grid {
            background: var(--bg-card);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--border);
            margin-top: 10px;
        }

        .month-day-cell {
            min-height: 85px;
            padding: 6px;
            font-size: 0.8em;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .month-day-cell.has-data {
            cursor: pointer;
            border: 2px solid var(--accent-primary);
            background: rgba(0, 242, 255, 0.05);
        }

        .month-day-cell.has-data:hover {
            background: rgba(0, 242, 255, 0.15);
            transform: scale(1.02);
            box-shadow: 0 3px 8px rgba(0, 242, 255, 0.2);
        }

        .month-day-number {
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 4px;
            font-size: 1.1em;
        }

        .month-day-info {
            font-size: 0.75em;
            line-height: 1.2;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .month-day-count {
            color: var(--accent-primary);
            font-weight: bold;
        }

        .month-day-amount {
            color: var(--success);
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 2px;
        }

        .month-day-power {
            color: var(--text-secondary);
            font-size: 0.75em;
        }

        .month-day-avg {
            color: var(--warning);
            font-size: 0.7em;
        }

        /* æ—¥å†è§†å›¾å®¹å™¨ */
        .calendar-view {
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border);
            padding: 20px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border);
        }

        .calendar-title {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--accent-primary);
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            padding: 8px 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
            border-color: var(--accent-primary);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: bold;
            color: var(--text-secondary);
            padding: 10px 5px;
            font-size: 0.9em;
        }

        .calendar-day {
            aspect-ratio: 1;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .calendar-day.empty {
            background: transparent;
            border-color: transparent;
            cursor: default;
        }

        .calendar-day.has-data {
            border-color: var(--accent-primary);
            cursor: pointer;
        }

        .calendar-day.has-data:hover {
            background: rgba(0, 242, 255, 0.15);
            transform: scale(1.05);
        }

        .day-number {
            font-weight: bold;
            color: var(--text-secondary);
            font-size: 0.9em;
        }

        .day-data {
            display: flex;
            flex-direction: column;
            gap: 2px;
            font-size: 0.75em;
        }

        .day-count {
            color: var(--accent-primary);
            font-weight: bold;
        }

        .day-amount {
            color: var(--success);
        }

        .day-details {
            margin-top: 15px;
            padding: 15px;
            background: var(--bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--border);
            display: none;
        }

        .day-details.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .day-details h4 {
            color: var(--accent-primary);
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .day-record {
            padding: 10px;
            margin-bottom: 8px;
            background: var(--bg-card);
            border-radius: 6px;
            border-left: 3px solid var(--accent-primary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .day-record:hover {
            background: rgba(0, 242, 255, 0.1);
            transform: translateX(3px);
        }

        .day-record-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .day-record-time {
            font-size: 0.85em;
            color: var(--text-secondary);
        }

        .day-record-amount {
            color: var(--success);
            font-weight: bold;
        }

        .month-details {
            display: flex;
            flex-direction: column;
            gap: 5px;
            font-size: 0.9em;
            color: var(--text-secondary);
        }

        .month-details span {
            display: flex;
            justify-content: space-between;
        }

        .month-details span strong {
            color: var(--text-primary);
        }

        /* ç«™ç‚¹ç»Ÿè®¡ */
        .station-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .station-stat {
            background: var(--bg-secondary);
            padding: 12px;
            border-radius: 6px;
            border: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .station-name {
            font-size: 0.9em;
            color: var(--text-secondary);
        }

        .station-count {
            font-weight: bold;
            color: var(--accent-primary);
            font-size: 1.1em;
        }

        /* åŠ è½½çŠ¶æ€ */
        .loading {
            text-align: center;
            padding: 40px;
            color: var(--text-secondary);
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--border);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ç©ºçŠ¶æ€ */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 4em;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .record-details {
                grid-template-columns: 1fr;
            }

            .calendar-grid {
                gap: 4px;
            }

            .calendar-day {
                padding: 4px;
            }

            .day-number {
                font-size: 0.8em;
            }

            .day-data {
                font-size: 0.7em;
            }

            .controls {
                flex-direction: column;
            }

            .search-box {
                width: 100%;
            }
        }

        /* æ»šåŠ¨æ¡ç¾åŒ– */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-secondary);
        }

        /* æ•°æ®åµŒå…¥æç¤º */
        .data-embedded-badge {
            position: fixed;
            top: 10px;
            right: 10px;
            background: var(--success);
            color: var(--bg-primary);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8em;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 255, 136, 0.3);
        }

        /* è¯¦ç»†ä¿¡æ¯æ¨¡æ€æ¡† */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--bg-card);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid var(--border);
            width: 85vw;
            max-width: 1200px;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
        }

        /* è®¢å•è¯¦æƒ…å¼¹çª— - å°ä¸€ç‚¹çš„å®½åº¦ */
        .modal-content.detail-modal {
            width: 500px;
            max-width: 90vw;
            max-height: 80vh;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5em;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .modal-close:hover {
            color: var(--danger);
        }

        .modal-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .modal-header h2 {
            color: var(--accent-primary);
            font-size: 1.5em;
        }

        .modal-body {
            display: grid;
            gap: 12px;
        }

        .detail-row {
            display: grid;
            grid-template-columns: 120px 1fr;
            gap: 10px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .detail-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .detail-value {
            color: var(--text-primary);
            font-weight: 500;
        }

        .detail-value.highlight {
            color: var(--accent-primary);
            font-weight: bold;
        }

        .detail-value.success {
            color: var(--success);
        }

        .detail-value.warning {
            color: var(--warning);
        }

        .detail-value.payment {
            color: var(--success);
            font-size: 1.2em;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- æ•°æ®åµŒå…¥æç¤º -->
    <div class="data-embedded-badge" id="embeddedBadge" style="display: none;">ğŸ“¦ æ•°æ®å·²å†…åµŒ</div>

    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <h1>âš¡ ç”µè½¦å……ç”µæ•°æ®é¢æ¿</h1>
            <p>æ™ºèƒ½å……ç”µæ•°æ®åˆ†æä¸å¯è§†åŒ–ç³»ç»Ÿ - ä½¿ç”¨æœ€ç»ˆä»˜æ¬¾é‡‘é¢ç»Ÿè®¡</p>
        </div>

        <!-- ç»Ÿè®¡å¡ç‰‡ - ä½¿ç”¨ paymentFeeï¼ˆæœ€ç»ˆä»˜æ¬¾é‡‘é¢ï¼‰ -->
        <div class="stats-grid" id="statsGrid">
            <div class="stat-card">
                <div class="stat-value" id="totalOrders">-</div>
                <div class="stat-label">æ€»è®¢å•æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalPayment">-</div>
                <div class="stat-label">æœ€ç»ˆä»˜æ¬¾æ€»é¢ (å…ƒ)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalPower">-</div>
                <div class="stat-label">æ€»ç”µé‡ (kWh)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avgCost">-</div>
                <div class="stat-label">å¹³å‡å•ä»· (å…ƒ/kWh)</div>
            </div>
        </div>

        <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="list">ğŸ“‹ åˆ—è¡¨è§†å›¾</button>
            <button class="tab-btn" data-tab="analysis">ğŸ“Š æ•°æ®åˆ†æ</button>
        </div>

        <!-- æœç´¢å’Œç­›é€‰ -->
        <div class="controls">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="ğŸ” æœç´¢ç«™ç‚¹åç§°æˆ–è®¢å•å·...">
            </div>
            <select class="filter-select" id="monthFilter">
                <option value="">æ‰€æœ‰æœˆä»½</option>
            </select>
            <select class="filter-select" id="stationFilter">
                <option value="">æ‰€æœ‰ç«™ç‚¹</option>
            </select>
        </div>

        <!-- åˆ—è¡¨è§†å›¾ -->
        <div class="view-container active" id="listView">
            <div class="list-view" id="listContent">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>æ­£åœ¨åŠ è½½æ•°æ®...</p>
                </div>
            </div>
        </div>

        <!-- åˆ†æè§†å›¾ -->
        <div class="view-container" id="analysisView">
            <div class="analysis-view" id="analysisContent">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>æ­£åœ¨åŠ è½½æ•°æ®...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- è¯¦æƒ…æ¨¡æ€æ¡† -->
    <div class="modal" id="detailModal">
        <div class="modal-content" id="modalContent">
            <button class="modal-close" onclick="closeModal()">Ã—</button>
            <div class="modal-header">
                <h2 id="modalTitle">è®¢å•è¯¦æƒ…</h2>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- åŠ¨æ€å†…å®¹ -->
            </div>
        </div>
    </div>

    <script>
        // å†…åµŒæ•°æ® - è§£å†³è·¨åŸŸé—®é¢˜
        const embeddedData = [
            {
                "billGenerated": true,
                "paymentFee": 31.24,
                "deleteAllowed": true,
                "orderId": "3476792776175116729",
                "connectorId": "210272010000074808",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 6.71,
                "payType": 1,
                "chargeETime": "2025-07-16 23:50:36",
                "xjShield": 1,
                "stationName": "ä¸­å‘ç™¾æ—ºåœè½¦æ¥¼å……ç”µç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000175267808044101902",
                "operatorId": "101437000",
                "stationId": "101437000_58455",
                "suspend": 0,
                "chargeSTime": "2025-07-16 23:02:22",
                "chargeTime": 2894,
                "orderSTime": "2025-07-16 23:01:51",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 27.53,
                "totalFee": 34.24,
                "orderETime": "2025-07-16 23:50:40",
                "payStatus": 3,
                "totalPower": 67.143
            },
            {
                "billGenerated": true,
                "paymentFee": 38.59,
                "deleteAllowed": true,
                "orderId": "3476792697493345721",
                "connectorId": "0510423714121163013",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 12.43,
                "payType": 1,
                "chargeETime": "2025-07-11 23:43:51",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000175224613544101201",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-07-11 23:02:45",
                "chargeTime": 2466,
                "orderSTime": "2025-07-11 23:02:28",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 26.16,
                "totalFee": 38.59,
                "orderETime": "2025-07-11 23:44:04",
                "payStatus": 3,
                "totalPower": 65.409
            },
            {
                "billGenerated": true,
                "paymentFee": 38.53,
                "deleteAllowed": true,
                "orderId": "3476792605618812345",
                "connectorId": "0510423714121164001",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 12.41,
                "payType": 1,
                "chargeETime": "2025-07-06 01:28:22",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000175173398544101051",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-07-06 00:47:03",
                "chargeTime": 2479,
                "orderSTime": "2025-07-06 00:46:44",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 26.12,
                "totalFee": 38.53,
                "orderETime": "2025-07-06 01:28:27",
                "payStatus": 3,
                "totalPower": 65.304
            },
            {
                "billGenerated": true,
                "paymentFee": 29.03,
                "deleteAllowed": true,
                "orderId": "3476792433487227321",
                "connectorId": "0510423714121165005",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 8.66,
                "payType": 1,
                "chargeETime": "2025-06-24 23:38:20",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000175077764044100501",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-06-24 23:07:51",
                "chargeTime": 1829,
                "orderSTime": "2025-06-24 23:07:26",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 20.37,
                "totalFee": 29.03,
                "orderETime": "2025-06-24 23:38:30",
                "payStatus": 3,
                "totalPower": 50.922
            },
            {
                "billGenerated": true,
                "paymentFee": 0.0,
                "deleteAllowed": true,
                "orderId": "3476792433438757305",
                "connectorId": "0510423714121165003",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 0.0,
                "payType": 1,
                "chargeETime": "2025-06-27 23:05:45",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000175077734244101752",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-06-24 23:02:44",
                "chargeTime": 259381,
                "orderSTime": "2025-06-24 23:02:44",
                "commentStatus": 1001,
                "hasOutTradeId": 0,
                "eleFee": 0.0,
                "totalFee": 0.0,
                "orderETime": "2025-06-27 23:05:45",
                "payStatus": 3,
                "totalPower": 0.0
            },
            {
                "billGenerated": true,
                "paymentFee": 37.75,
                "deleteAllowed": true,
                "orderId": "3476792331286499769",
                "connectorId": "0510423714121171008",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 11.26,
                "payType": 1,
                "chargeETime": "2025-06-17 23:49:25",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000175017251944100851",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-06-17 23:02:29",
                "chargeTime": 2816,
                "orderSTime": "2025-06-17 23:02:10",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 26.49,
                "totalFee": 37.75,
                "orderETime": "2025-06-17 23:49:35",
                "payStatus": 3,
                "totalPower": 66.232
            },
            {
                "billGenerated": true,
                "paymentFee": 34.37,
                "deleteAllowed": true,
                "orderId": "3476792190539913657",
                "connectorId": "0510423714121171008",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 10.25,
                "payType": 1,
                "chargeETime": "2025-06-07 23:45:28",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000174930843644100201",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-06-07 23:01:10",
                "chargeTime": 2658,
                "orderSTime": "2025-06-07 23:00:53",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 24.12,
                "totalFee": 34.37,
                "orderETime": "2025-06-07 23:45:37",
                "payStatus": 3,
                "totalPower": 60.301
            },
            {
                "billGenerated": true,
                "paymentFee": 38.52,
                "deleteAllowed": true,
                "orderId": "3476792030928098745",
                "connectorId": "0510423714121171006",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 11.29,
                "payType": 1,
                "chargeETime": "2025-05-26 23:49:59",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000174827161644100251",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-05-26 23:00:45",
                "chargeTime": 2954,
                "orderSTime": "2025-05-26 23:00:26",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 27.23,
                "totalFee": 38.52,
                "orderETime": "2025-05-26 23:50:08",
                "payStatus": 3,
                "totalPower": 66.421
            },
            {
                "billGenerated": true,
                "paymentFee": 33.19,
                "deleteAllowed": true,
                "orderId": "3476791928989758905",
                "connectorId": "0510423714121171008",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 9.73,
                "payType": 1,
                "chargeETime": "2025-05-19 03:53:19",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000174759527844102951",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-05-19 03:08:29",
                "chargeTime": 2690,
                "orderSTime": "2025-05-19 03:08:10",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 23.46,
                "totalFee": 33.19,
                "orderETime": "2025-05-19 03:53:30",
                "payStatus": 3,
                "totalPower": 57.218
            },
            {
                "billGenerated": true,
                "paymentFee": 37.98,
                "deleteAllowed": true,
                "orderId": "3476791827621916089",
                "connectorId": "0510423714121165007",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 11.13,
                "payType": 1,
                "chargeETime": "2025-05-11 03:49:03",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000174690346144101251",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-05-11 02:58:13",
                "chargeTime": 3050,
                "orderSTime": "2025-05-11 02:57:55",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 26.85,
                "totalFee": 37.98,
                "orderETime": "2025-05-11 03:49:12",
                "payStatus": 3,
                "totalPower": 65.499
            },
            {
                "billGenerated": true,
                "paymentFee": 34.39,
                "deleteAllowed": true,
                "orderId": "3476791695657814457",
                "connectorId": "0510423714121163013",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 9.91,
                "payType": 1,
                "chargeETime": "2025-04-30 23:50:52",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000174602536344100752",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-04-30 23:03:09",
                "chargeTime": 2863,
                "orderSTime": "2025-04-30 23:02:55",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 24.48,
                "totalFee": 34.39,
                "orderETime": "2025-04-30 23:51:00",
                "payStatus": 3,
                "totalPower": 58.283
            },
            {
                "billGenerated": true,
                "paymentFee": 35.96,
                "deleteAllowed": true,
                "orderId": "3476791270454059449",
                "connectorId": "0510423714121169007",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 10.54,
                "payType": 1,
                "chargeETime": "2025-03-28 01:06:39",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000174309213944100251",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-03-28 00:16:18",
                "chargeTime": 3021,
                "orderSTime": "2025-03-28 00:15:54",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 25.42,
                "totalFee": 35.96,
                "orderETime": "2025-03-28 01:06:42",
                "payStatus": 3,
                "totalPower": 61.991
            },
            {
                "billGenerated": true,
                "paymentFee": 26.6,
                "deleteAllowed": true,
                "orderId": "3476790413146915257",
                "connectorId": "0510423714121162004",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 7.73,
                "payType": 1,
                "chargeETime": "2025-01-12 07:18:26",
                "xjShield": 0,
                "stationName": "ä¸­å›½çŸ³æ²¹åŒ—äº¬è“å¤©è¥¿å°å£åœè½¦åœºå……ç”µåœºç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000173663408344102901",
                "operatorId": "565843400",
                "stationId": "565843400_CABJAC046306",
                "suspend": 0,
                "chargeSTime": "2025-01-12 06:21:42",
                "chargeTime": 3404,
                "orderSTime": "2025-01-12 06:21:37",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 18.87,
                "totalFee": 26.6,
                "orderETime": "2025-01-12 07:18:49",
                "payStatus": 3,
                "totalPower": 38.669
            },
            {
                "billGenerated": true,
                "paymentFee": 12.94,
                "deleteAllowed": true,
                "orderId": "3476790256326928825",
                "connectorId": "01222006069101",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 1.39,
                "payType": 1,
                "chargeETime": "2024-12-30 12:52:52",
                "xjShield": 1,
                "stationName": "åŒ—äº¬æœé˜³æ—¥å›å……ç”µç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000173553350444102254",
                "operatorId": "101437000",
                "stationId": "101437000_5642",
                "suspend": 0,
                "chargeSTime": "2024-12-30 12:38:38",
                "chargeTime": 854,
                "orderSTime": "2024-12-30 12:38:38",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 11.55,
                "totalFee": 12.94,
                "orderETime": "2024-12-30 12:52:52",
                "payStatus": 3,
                "totalPower": 9.239
            },
            {
                "billGenerated": true,
                "paymentFee": 46.12,
                "deleteAllowed": true,
                "orderId": "3476790252725697977",
                "connectorId": "210472010600146802",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 3.51,
                "payType": 1,
                "chargeETime": "2024-12-30 07:00:30",
                "xjShield": 1,
                "stationName": "äºŒæ²³å¼€21å·è‰ºæœ¯åŒºï¼ˆåœ†æ˜å›­è¶…å……ç«™ï¼‰",
                "hasPrepay": false,
                "chargeSeq": "101437000173550998344103154",
                "operatorId": "101437000",
                "stationId": "101437000_33943",
                "suspend": 0,
                "chargeSTime": "2024-12-30 06:06:34",
                "chargeTime": 3236,
                "orderSTime": "2024-12-30 06:06:34",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 43.32,
                "totalFee": 46.83,
                "orderETime": "2024-12-30 07:00:30",
                "payStatus": 3,
                "totalPower": 69.744
            },
            {
                "billGenerated": true,
                "paymentFee": 59.11,
                "deleteAllowed": true,
                "orderId": "3476790216512548281",
                "connectorId": "01222006062502",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 7.6,
                "payType": 1,
                "chargeETime": "2024-12-27 10:26:50",
                "xjShield": 1,
                "stationName": "åŒ—äº¬æœé˜³æ—¥å›å……ç”µç«™",
                "hasPrepay": false,
                "chargeSeq": "101437000173526429444101002",
                "operatorId": "101437000",
                "stationId": "101437000_5642",
                "suspend": 0,
                "chargeSTime": "2024-12-27 09:51:45",
                "chargeTime": 2105,
                "orderSTime": "2024-12-27 09:51:45",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 53.79,
                "totalFee": 61.39,
                "orderETime": "2024-12-27 10:26:50",
                "payStatus": 3,
                "totalPower": 45.052
            },
            {
                "billGenerated": true,
                "paymentFee": 47.12,
                "deleteAllowed": true,
                "orderId": "3476790139980888505",
                "connectorId": "210472010600146702",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 3.77,
                "payType": 1,
                "chargeETime": "2024-12-21 06:59:14",
                "xjShield": 1,
                "stationName": "äºŒæ²³å¼€21å·è‰ºæœ¯åŒºï¼ˆåœ†æ˜å›­è¶…å……ç«™ï¼‰",
                "hasPrepay": false,
                "chargeSeq": "101437000173473168044102252",
                "operatorId": "101437000",
                "stationId": "101437000_33943",
                "suspend": 0,
                "chargeSTime": "2024-12-21 05:54:43",
                "chargeTime": 3871,
                "orderSTime": "2024-12-21 05:54:43",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 46.75,
                "totalFee": 50.52,
                "orderETime": "2024-12-21 06:59:14",
                "payStatus": 3,
                "totalPower": 75.403
            },
            {
                "billGenerated": true,
                "paymentFee": 25.93,
                "deleteAllowed": true,
                "orderId": "3476793761248869817",
                "connectorId": "2174857562000601",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 5.56,
                "payType": 1,
                "chargeETime": "2025-09-16 23:44:23",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000175803484944103452",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-09-16 23:00:59",
                "chargeTime": 2604,
                "orderSTime": "2025-09-16 23:00:59",
                "commentStatus": 1001,
                "eleFee": 23.37,
                "hasOutTradeId": 1,
                "totalFee": 28.93,
                "orderETime": "2025-09-16 23:44:23",
                "payStatus": 3,
                "totalPower": 55.64
            },
            {
                "billGenerated": true,
                "paymentFee": 35.57,
                "deleteAllowed": true,
                "orderId": "3476793679359464889",
                "connectorId": "2174857562000601",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 11.57,
                "payType": 1,
                "chargeETime": "2025-09-11 23:45:01",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000175602711444102752",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-09-11 23:00:22",
                "chargeTime": 2679,
                "orderSTime": "2025-09-11 23:00:19",
                "commentStatus": 1001,
                "eleFee": 27.0,
                "hasOutTradeId": 1,
                "totalFee": 38.57,
                "orderETime": "2025-09-11 23:45:04",
                "payStatus": 3,
                "totalPower": 64.28
            },
            {
                "billGenerated": true,
                "paymentFee": 26.8,
                "deleteAllowed": true,
                "orderId": "3476793557784862137",
                "connectorId": "2174857653700901",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 9.54,
                "payType": 1,
                "chargeETime": "2025-09-04 02:51:02",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000175692324244100902",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-09-04 02:14:26",
                "chargeTime": 2196,
                "orderSTime": "2025-09-04 02:14:26",
                "commentStatus": 1001,
                "eleFee": 22.26,
                "hasOutTradeId": 1,
                "totalFee": 31.8,
                "orderETime": "2025-09-04 02:51:02",
                "payStatus": 3,
                "totalPower": 53.01
            },
            {
                "billGenerated": true,
                "paymentFee": 36.3,
                "deleteAllowed": true,
                "orderId": "3476793446206525881",
                "connectorId": "2174857562000801",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 11.99,
                "payType": 1,
                "chargeETime": "2025-08-27 23:50:29",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000175630712244100802",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-08-27 23:05:41",
                "chargeTime": 2688,
                "orderSTime": "2025-08-27 23:05:38",
                "commentStatus": 1001,
                "eleFee": 27.31,
                "hasOutTradeId": 1,
                "totalFee": 39.3,
                "orderETime": "2025-08-27 23:50:31",
                "payStatus": 3,
                "totalPower": 66.61
            },
            {
                "billGenerated": true,
                "paymentFee": 34.01,
                "deleteAllowed": true,
                "orderId": "3476793349093968313",
                "connectorId": "2174857562000401",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 11.29,
                "payType": 1,
                "chargeETime": "2025-08-21 23:46:54",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000175578867244102552",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-08-21 23:04:45",
                "chargeTime": 2529,
                "orderSTime": "2025-08-21 23:04:45",
                "commentStatus": 1001,
                "eleFee": 25.72,
                "hasOutTradeId": 1,
                "totalFee": 37.01,
                "orderETime": "2025-08-21 23:46:54",
                "payStatus": 3,
                "totalPower": 62.72
            },
            {
                "billGenerated": true,
                "paymentFee": 35.24,
                "deleteAllowed": true,
                "orderId": "3476793283601215929",
                "connectorId": "2175084342400107",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 10.24,
                "payType": 1,
                "chargeETime": "2025-08-17 23:41:55",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "ä¸­å‘ç™¾æ—ºåœè½¦æ¥¼å……ç”µç«™",
                "chargeSeq": "101437000175544286644103102",
                "operatorId": "101437000",
                "stationId": "101437000_58455",
                "suspend": 0,
                "chargeSTime": "2025-08-17 23:01:51",
                "chargeTime": 2404,
                "orderSTime": "2025-08-17 23:01:27",
                "commentStatus": 1001,
                "eleFee": 28.0,
                "hasOutTradeId": 1,
                "totalFee": 38.24,
                "orderETime": "2025-08-17 23:42:02",
                "payStatus": 3,
                "totalPower": 68.286
            },
            {
                "billGenerated": true,
                "paymentFee": 30.5,
                "deleteAllowed": true,
                "orderId": "3476793157634661817",
                "connectorId": "210272010000074806",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 8.97,
                "payType": 1,
                "chargeETime": "2025-08-10 02:10:11",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "ä¸­å‘ç™¾æ—ºåœè½¦æ¥¼å……ç”µç«™",
                "chargeSeq": "101437000175476063544103052",
                "operatorId": "101437000",
                "stationId": "101437000_58455",
                "suspend": 0,
                "chargeSTime": "2025-08-10 01:31:18",
                "chargeTime": 2333,
                "orderSTime": "2025-08-10 01:30:57",
                "commentStatus": 1001,
                "eleFee": 24.53,
                "hasOutTradeId": 1,
                "totalFee": 33.5,
                "orderETime": "2025-08-10 02:10:21",
                "payStatus": 3,
                "totalPower": 59.833
            },
            {
                "billGenerated": true,
                "paymentFee": 30.1,
                "deleteAllowed": true,
                "orderId": "3476793090938001849",
                "connectorId": "210272010000074802",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 6.49,
                "payType": 1,
                "chargeETime": "2025-08-05 23:43:39",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "ä¸­å‘ç™¾æ—ºåœè½¦æ¥¼å……ç”µç«™",
                "chargeSeq": "101437000175440601544102902",
                "operatorId": "101437000",
                "stationId": "101437000_58455",
                "suspend": 0,
                "chargeSTime": "2025-08-05 23:00:52",
                "chargeTime": 2567,
                "orderSTime": "2025-08-05 23:00:28",
                "commentStatus": 1001,
                "eleFee": 26.61,
                "hasOutTradeId": 1,
                "totalFee": 33.1,
                "orderETime": "2025-08-05 23:43:46",
                "payStatus": 3,
                "totalPower": 64.914
            },
            {
                "billGenerated": true,
                "paymentFee": 28.15,
                "deleteAllowed": true,
                "orderId": "3476792950121133497",
                "connectorId": "2175084370000101",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 6.11,
                "payType": 1,
                "chargeETime": "2025-07-28 01:35:18",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "ä¸­å‘ç™¾æ—ºåœè½¦æ¥¼å……ç”µç«™",
                "chargeSeq": "101437000175363527744100506",
                "operatorId": "101437000",
                "stationId": "101437000_58455",
                "suspend": 0,
                "chargeSTime": "2025-07-28 00:55:07",
                "chargeTime": 2411,
                "orderSTime": "2025-07-28 00:54:50",
                "commentStatus": 1001,
                "eleFee": 25.04,
                "hasOutTradeId": 1,
                "totalFee": 31.15,
                "orderETime": "2025-07-28 01:35:25",
                "payStatus": 3,
                "totalPower": 61.074
            },
            {
                "billGenerated": true,
                "paymentFee": 26.92,
                "deleteAllowed": true,
                "orderId": "3476792854290048441",
                "connectorId": "210272010000074801",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 5.87,
                "payType": 1,
                "chargeETime": "2025-07-21 23:39:14",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "ä¸­å‘ç™¾æ—ºåœè½¦æ¥¼å……ç”µç«™",
                "chargeSeq": "101437000175311000544100752",
                "operatorId": "101437000",
                "stationId": "101437000_58455",
                "suspend": 0,
                "chargeSTime": "2025-07-21 23:01:00",
                "chargeTime": 2294,
                "orderSTime": "2025-07-21 23:00:25",
                "commentStatus": 1001,
                "eleFee": 24.05,
                "hasOutTradeId": 1,
                "totalFee": 29.92,
                "orderETime": "2025-07-21 23:39:22",
                "payStatus": 3,
                "totalPower": 58.658
            },
            {
                "billGenerated": true,
                "paymentFee": 29.06,
                "deleteAllowed": true,
                "orderId": "3476795451711072697",
                "connectorId": "2174857653701201",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 6.41,
                "payType": 1,
                "chargeETime": "2025-12-31 06:18:50",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000176712901344104802",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-12-31 05:10:22",
                "chargeTime": 4108,
                "orderSTime": "2025-12-31 05:10:22",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 25.65,
                "totalFee": 32.06,
                "orderETime": "2025-12-31 06:18:50",
                "payStatus": 3,
                "totalPower": 64.12
            },
            {
                "billGenerated": true,
                "paymentFee": 25.34,
                "deleteAllowed": true,
                "orderId": "3476795380281162169",
                "connectorId": "2174857653701501",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 5.67,
                "payType": 1,
                "chargeETime": "2025-12-27 00:43:17",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000176676289344104352",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-12-26 23:28:21",
                "chargeTime": 4496,
                "orderSTime": "2025-12-26 23:28:21",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 22.67,
                "totalFee": 28.34,
                "orderETime": "2025-12-27 00:43:17",
                "payStatus": 3,
                "totalPower": 56.67
            },
            {
                "billGenerated": true,
                "paymentFee": 27.52,
                "deleteAllowed": true,
                "orderId": "3476795244472323513",
                "connectorId": "2174857653700901",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 6.11,
                "payType": 1,
                "chargeETime": "2025-12-19 00:01:54",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000176606998444102052",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-12-18 22:59:56",
                "chargeTime": 3718,
                "orderSTime": "2025-12-18 22:59:56",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 24.41,
                "totalFee": 30.52,
                "orderETime": "2025-12-19 00:01:54",
                "payStatus": 3,
                "totalPower": 61.03
            },
            {
                "billGenerated": true,
                "paymentFee": 26.94,
                "deleteAllowed": true,
                "orderId": "3476795129101475257",
                "connectorId": "2174857653701001",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 5.99,
                "payType": 1,
                "chargeETime": "2025-12-12 00:26:42",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000176546500744104052",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-12-11 23:00:12",
                "chargeTime": 5190,
                "orderSTime": "2025-12-11 23:00:12",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 23.95,
                "totalFee": 29.94,
                "orderETime": "2025-12-12 00:26:42",
                "payStatus": 3,
                "totalPower": 59.88
            },
            {
                "billGenerated": true,
                "paymentFee": 31.07,
                "deleteAllowed": true,
                "orderId": "3476794405026940345",
                "connectorId": "2174857653701601",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 6.55,
                "payType": 1,
                "chargeETime": "2025-10-26 23:54:08",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000176149012844101802",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-10-26 23:00:10",
                "chargeTime": 3238,
                "orderSTime": "2025-10-26 23:00:09",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 27.52,
                "totalFee": 34.07,
                "orderETime": "2025-10-26 23:54:10",
                "payStatus": 3,
                "totalPower": 65.53
            },
            {
                "billGenerated": true,
                "paymentFee": 28.86,
                "deleteAllowed": true,
                "orderId": "3476794280812067257",
                "connectorId": "2174857653701001",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 6.12,
                "payType": 1,
                "chargeETime": "2025-10-19 00:06:42",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000176080026244101604",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-10-18 23:11:12",
                "chargeTime": 3330,
                "orderSTime": "2025-10-18 23:11:11",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 25.74,
                "totalFee": 31.86,
                "orderETime": "2025-10-19 00:06:45",
                "payStatus": 3,
                "totalPower": 61.29
            },
            {
                "billGenerated": true,
                "paymentFee": 25.92,
                "deleteAllowed": true,
                "orderId": "3476794172117386681",
                "connectorId": "2174857653700401",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 5.56,
                "payType": 1,
                "chargeETime": "2025-10-11 23:42:30",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000176019474444100302",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-10-11 23:00:25",
                "chargeTime": 2525,
                "orderSTime": "2025-10-11 23:00:25",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 23.36,
                "totalFee": 28.92,
                "orderETime": "2025-10-11 23:42:30",
                "payStatus": 3,
                "totalPower": 55.62
            },
            {
                "billGenerated": true,
                "paymentFee": 11.93,
                "deleteAllowed": true,
                "orderId": "3476793994300601785",
                "connectorId": "2174857653701101",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 2.84,
                "payType": 1,
                "chargeETime": "2025-09-30 23:23:00",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000175924450044100152",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-09-30 23:01:53",
                "chargeTime": 1267,
                "orderSTime": "2025-09-30 23:01:53",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 11.93,
                "totalFee": 14.77,
                "orderETime": "2025-09-30 23:23:00",
                "payStatus": 3,
                "totalPower": 28.41
            },
            {
                "billGenerated": true,
                "paymentFee": 21.5,
                "deleteAllowed": true,
                "orderId": "3476793942046962105",
                "connectorId": "2174857562000701",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 4.71,
                "payType": 1,
                "chargeETime": "2025-09-27 23:40:28",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000175898520544101302",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-09-27 23:00:13",
                "chargeTime": 2415,
                "orderSTime": "2025-09-27 23:00:13",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 19.79,
                "totalFee": 24.5,
                "orderETime": "2025-09-27 23:40:28",
                "payStatus": 3,
                "totalPower": 47.12
            },
            {
                "billGenerated": true,
                "paymentFee": 26.68,
                "deleteAllowed": true,
                "orderId": "3476793836930282937",
                "connectorId": "2174857562000701",
                "orderStatus": 4,
                "uid": "580549510974322",
                "servFee": 5.71,
                "payType": 1,
                "chargeETime": "2025-09-20 23:45:55",
                "xjShield": 1,
                "hasPrepay": false,
                "stationName": "äº¬èƒ½è¶…çº§å……ç”µç«™ä¸­å‘ç™¾æ—ºç«™",
                "chargeSeq": "101437000175838047444102706",
                "operatorId": "101437000",
                "stationId": "101437000_43533",
                "suspend": 0,
                "chargeSTime": "2025-09-20 23:01:29",
                "chargeTime": 2666,
                "orderSTime": "2025-09-20 23:01:29",
                "commentStatus": 1001,
                "hasOutTradeId": 1,
                "eleFee": 23.97,
                "totalFee": 29.68,
                "orderETime": "2025-09-20 23:45:55",
                "payStatus": 3,
                "totalPower": 57.06
            }
        ];

        // å…¨å±€å˜é‡
        let allData = [];
        let filteredData = [];
        let currentView = 'list';

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            // æ˜¾ç¤ºæ•°æ®åµŒå…¥æç¤º
            document.getElementById('embeddedBadge').style.display = 'block';

            // åŠ è½½æ•°æ®
            loadData();

            // ç»‘å®šäº‹ä»¶
            bindEvents();
        }

        function loadData() {
            try {
                // ä½¿ç”¨å†…åµŒæ•°æ®
                allData = embeddedData;
                filteredData = [...allData];

                // æ›´æ–°UI
                updateStats();
                updateFilters();
                renderCurrentView();

                console.log('æ•°æ®åŠ è½½æˆåŠŸï¼Œå…±', allData.length, 'æ¡è®°å½•');
            } catch (error) {
                showError('æ•°æ®åŠ è½½å¤±è´¥: ' + error.message);
            }
        }

        function bindEvents() {
            // æ ‡ç­¾é¡µåˆ‡æ¢
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tab = this.dataset.tab;
                    switchTab(tab);
                });
            });

            // æœç´¢å’Œç­›é€‰
            const searchInput = document.getElementById('searchInput');
            const monthFilter = document.getElementById('monthFilter');
            const stationFilter = document.getElementById('stationFilter');

            // é˜²æŠ–æœç´¢
            let searchTimeout;
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    filterData();
                }, 300);
            });

            monthFilter.addEventListener('change', filterData);
            stationFilter.addEventListener('change', filterData);

            // æ¨¡æ€æ¡†ç‚¹å‡»å¤–éƒ¨å…³é—­
            document.getElementById('detailModal').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });
        }

        function switchTab(tab) {
            currentView = tab;

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-tab="${tab}"]`).classList.add('active');

            // æ›´æ–°è§†å›¾
            document.querySelectorAll('.view-container').forEach(view => {
                view.classList.remove('active');
            });

            if (tab === 'list') {
                document.getElementById('listView').classList.add('active');
            } else if (tab === 'analysis') {
                document.getElementById('analysisView').classList.add('active');
            }

            renderCurrentView();
        }

        function renderCurrentView() {
            switch(currentView) {
                case 'list':
                    renderListView();
                    break;
                case 'analysis':
                    renderAnalysisView();
                    break;
            }
        }

        // åˆ—è¡¨è§†å›¾ - æ˜¾ç¤ºæœåŠ¡è´¹ã€æœ€ç»ˆä»˜æ¬¾ã€å……ç”µèµ·æ­¢æ—¶é—´
        function renderListView() {
            const container = document.getElementById('listContent');

            if (filteredData.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ğŸ”</div><p>æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„è®°å½•</p></div>';
                return;
            }

            // æŒ‰å……ç”µç»“æŸæ—¶é—´é™åºæ’åºï¼ˆæœ€è¿‘çš„åœ¨å‰é¢ï¼‰
            const sortedData = [...filteredData].sort((a, b) => {
                return new Date(b.chargeETime) - new Date(a.chargeETime);
            });

            const html = sortedData.map(record => `
                <div class="record-card" onclick="showDetail('${record.orderId}')">
                    <div class="record-header">
                        <div class="record-station">${record.stationName}</div>
                        <div class="record-payment">Â¥${record.paymentFee.toFixed(2)}</div>
                    </div>
                    <div class="record-details">
                        <div class="detail-item">
                            <span class="detail-label">å……ç”µå¼€å§‹</span>
                            <span class="detail-value">${record.chargeSTime}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å……ç”µç»“æŸ</span>
                            <span class="detail-value">${record.chargeETime}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å……ç”µæ—¶é•¿</span>
                            <span class="detail-value">${Math.round(record.chargeTime / 60)} åˆ†é’Ÿ</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å……ç”µé‡</span>
                            <span class="detail-value">${record.totalPower} kWh</span>
                        </div>
                    </div>
                    <div class="fee-breakdown">
                        <span class="fee-item ele">âš¡ ç”µè´¹: Â¥${record.eleFee.toFixed(2)}</span>
                        <span class="fee-item serv">ğŸ”§ æœåŠ¡è´¹: Â¥${record.servFee.toFixed(2)}</span>
                        <span class="fee-item total">ğŸ’³ æœ€ç»ˆä»˜æ¬¾: Â¥${record.paymentFee.toFixed(2)}</span>
                    </div>
                </div>
            `).join('');

            container.innerHTML = html;
        }

        // æ˜¾ç¤ºæœˆåº¦æ—¥å†å¼¹çª—ï¼ˆä¿®æ”¹ä¸ºå¼¹çª—å½¢å¼ï¼‰
        function showMonthCalendarModal(month) {
            const modalBody = document.getElementById('modalBody');
            const [year, monthNum] = month.split('-').map(Number);

            // è·å–è¯¥æœˆæ•°æ®
            const monthData = filteredData.filter(r => r.chargeETime.startsWith(month));

            if (monthData.length === 0) return;

            // è®¡ç®—æœˆåº¦æ±‡æ€»
            const monthSummary = {
                count: monthData.length,
                paymentFee: monthData.reduce((sum, r) => sum + r.paymentFee, 0),
                totalFee: monthData.reduce((sum, r) => sum + r.totalFee, 0),
                eleFee: monthData.reduce((sum, r) => sum + r.eleFee, 0),
                servFee: monthData.reduce((sum, r) => sum + r.servFee, 0),
                totalPower: monthData.reduce((sum, r) => sum + r.totalPower, 0),
                avgPrice: monthData.reduce((sum, r) => sum + r.paymentFee, 0) / monthData.reduce((sum, r) => sum + r.totalPower, 0),
                discount: monthData.reduce((sum, r) => sum + (r.totalFee - r.paymentFee), 0)
            };

            // æŒ‰æ—¥æœŸåˆ†ç»„
            const dateMap = {};
            monthData.forEach(record => {
                const dateStr = record.chargeETime.split(' ')[0];
                if (!dateMap[dateStr]) dateMap[dateStr] = [];
                dateMap[dateStr].push(record);
            });

            // ç”Ÿæˆæ—¥å†
            const firstDay = new Date(year, monthNum - 1, 1);
            const lastDay = new Date(year, monthNum, 0);
            const firstDayOfWeek = firstDay.getDay();
            const daysInMonth = lastDay.getDate();

            const monthNames = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'];
            const dayHeaders = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];

            // ç”Ÿæˆæ—¥å†æ ¼å­
            let daysHtml = '';
            for (let i = 0; i < firstDayOfWeek; i++) {
                daysHtml += '<div class=\"month-day-cell\"></div>';
            }

            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${year}-${String(monthNum).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const records = dateMap[dateStr] || [];

                if (records.length > 0) {
                    const dayPayment = records.reduce((sum, r) => sum + r.paymentFee, 0);
                    const dayPower = records.reduce((sum, r) => sum + r.totalPower, 0);
                    const dayCount = records.length;
                    const dayAvg = dayPayment / dayPower;

                    // æ˜¾ç¤ºå……ç”µä¿¡æ¯
                    let infoHtml = '';
                    if (dayCount === 1) {
                        // åªæœ‰1ä¸ªè®¢å•ï¼šé‡‘é¢ + ç”µé‡ + å•ä»· + èµ·æ­¢æ—¶é—´ + è€—æ—¶
                        const record = records[0];
                        const startTime = record.chargeSTime.split(' ')[1].substring(0, 5);
                        const endTime = record.chargeETime.split(' ')[1].substring(0, 5);
                        const duration = Math.round(record.chargeTime / 60);
                        infoHtml = `
                            <div class="month-day-amount">Â¥${dayPayment.toFixed(2)}</div>
                            <div class="month-day-power">${dayPower.toFixed(1)}kWh</div>
                            <div class="month-day-avg">Â¥${dayAvg.toFixed(2)}/kWh</div>
                            <div style="color: var(--text-secondary); font-size: 0.65em;">${startTime}â†’${endTime} (${duration}åˆ†é’Ÿ)</div>
                        `;
                    } else {
                        // å¤šä¸ªè®¢å•ï¼šé‡‘é¢ + è®¢å•æ•° + ç”µé‡ + å•ä»· + æ€»æ—¶é•¿
                        const totalDuration = records.reduce((sum, r) => sum + Math.round(r.chargeTime / 60), 0);
                        infoHtml = `
                            <div class="month-day-amount">Â¥${dayPayment.toFixed(2)}</div>
                            <div class="month-day-count">${dayCount}ç¬”</div>
                            <div class="month-day-power">${dayPower.toFixed(1)}kWh</div>
                            <div class="month-day-avg">Â¥${dayAvg.toFixed(2)}/kWh</div>
                            <div style="color: var(--warning); font-size: 0.65em;">æ€»${totalDuration}åˆ†é’Ÿ</div>
                        `;
                    }

                    daysHtml += `
                        <div class="month-day-cell has-data" onclick="showDayOrders('${dateStr}')">
                            <div class="month-day-number">${day}</div>
                            <div class="month-day-info">
                                ${infoHtml}
                            </div>
                        </div>
                    `;
                } else {
                    daysHtml += `
                        <div class="month-day-cell">
                            <div class="month-day-number">${day}</div>
                        </div>
                    `;
                }
            }

            let html = `
                <div class="detail-row" style="border-bottom: 2px solid var(--accent-primary); margin-bottom: 15px;">
                    <span class="detail-label" style="font-size: 1.2em;">ğŸ“Š ${year}å¹´ ${monthNames[monthNum - 1]} æœˆåº¦è¯¦æƒ…</span>
                    <span></span>
                </div>

                <div style="background: linear-gradient(135deg, rgba(0, 242, 255, 0.1), rgba(255, 0, 230, 0.1)); padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--border);">
                    <div style="font-weight: bold; color: var(--accent-primary); margin-bottom: 10px; font-size: 1.1em;">ğŸ’° æœˆåº¦æ¶ˆè´¹æ€»ç»“</div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; font-size: 0.9em;">
                        <div style="display: flex; flex-direction: column; gap: 3px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em;">æ€»è®¢å•æ•°</span>
                            <span style="color: var(--text-primary); font-weight: bold; font-size: 1.1em;">${monthSummary.count}</span>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 3px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em;">æœ€ç»ˆä»˜æ¬¾</span>
                            <span style="color: var(--success); font-weight: bold; font-size: 1.2em;">Â¥${monthSummary.paymentFee.toFixed(2)}</span>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 3px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em;">åŸå§‹æ€»è´¹ç”¨</span>
                            <span style="color: var(--text-primary); font-weight: bold; font-size: 1.1em;">Â¥${monthSummary.totalFee.toFixed(2)}</span>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 3px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em;">ä¼˜æƒ é‡‘é¢</span>
                            <span style="color: var(--warning); font-weight: bold; font-size: 1.1em;">-Â¥${monthSummary.discount.toFixed(2)}</span>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 3px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em;">æ€»ç”µé‡</span>
                            <span style="color: var(--text-primary); font-weight: bold; font-size: 1.1em;">${monthSummary.totalPower.toFixed(2)} kWh</span>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 3px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em;">å¹³å‡å•ä»·</span>
                            <span style="color: var(--text-primary); font-weight: bold; font-size: 1.1em;">Â¥${monthSummary.avgPrice.toFixed(2)}/kWh</span>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 3px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em;">ç”µè´¹æ€»è®¡</span>
                            <span style="color: var(--text-primary); font-weight: bold; font-size: 1.1em;">Â¥${monthSummary.eleFee.toFixed(2)}</span>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 3px;">
                            <span style="color: var(--text-secondary); font-size: 0.85em;">æœåŠ¡è´¹æ€»è®¡</span>
                            <span style="color: var(--text-primary); font-weight: bold; font-size: 1.1em;">Â¥${monthSummary.servFee.toFixed(2)}</span>
                        </div>
                    </div>
                </div>

                <div style="background: var(--bg-card); padding: 15px; border-radius: 8px; border: 1px solid var(--border); margin-bottom: 15px;">
                    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin-bottom: 10px;">
                        ${dayHeaders.map(day => `<div style="text-align: center; font-weight: bold; color: var(--text-secondary); padding: 8px 5px; font-size: 0.9em;">${day}</div>`).join('')}
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px;">
                        ${daysHtml}
                    </div>
                </div>

                <div style="margin-top: 10px; font-size: 0.85em; color: var(--text-secondary);">
                    ğŸ’¡ ç‚¹å‡»æœ‰æ•°æ®çš„æ—¥æœŸå¯æŸ¥çœ‹å½“æ—¥æ‰€æœ‰è®¢å•è¯¦æƒ…
                </div>
            `;

            modalBody.innerHTML = html;
            document.getElementById('detailModal').classList.add('active');
        }

        // å…¨å±€å˜é‡ - ç”¨äºåˆ†æè§†å›¾
        let monthlyStatsCache = {};

        // åˆ†æè§†å›¾ - ä½¿ç”¨æœ€ç»ˆä»˜æ¬¾é‡‘é¢ (åˆå¹¶æ—¥å†åŠŸèƒ½)
        function renderAnalysisView() {
            const container = document.getElementById('analysisContent');

            if (filteredData.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ğŸ“Š</div><p>æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„è®°å½•</p></div>';
                return;
            }

            // æœˆåº¦ç»Ÿè®¡ - ä½¿ç”¨ paymentFee
            const monthlyStats = {};
            filteredData.forEach(record => {
                const month = record.chargeETime.substring(0, 7); // YYYY-MM
                if (!monthlyStats[month]) {
                    monthlyStats[month] = { count: 0, paymentFee: 0, totalPower: 0, totalChargeTime: 0, totalFee: 0, servFee: 0, eleFee: 0 };
                }
                monthlyStats[month].count++;
                monthlyStats[month].paymentFee += record.paymentFee;
                monthlyStats[month].totalFee += record.totalFee;
                monthlyStats[month].eleFee += record.eleFee;
                monthlyStats[month].servFee += record.servFee;
                monthlyStats[month].totalPower += record.totalPower;
                monthlyStats[month].totalChargeTime += record.chargeTime;
            });

            monthlyStatsCache = monthlyStats;

            // ç«™ç‚¹ç»Ÿè®¡
            const stationStats = {};
            filteredData.forEach(record => {
                if (!stationStats[record.stationName]) {
                    stationStats[record.stationName] = { count: 0, paymentFee: 0 };
                }
                stationStats[record.stationName].count++;
                stationStats[record.stationName].paymentFee += record.paymentFee;
            });

            const html = `
                <div class="analysis-section">
                    <h3>ğŸ“Š æœˆåº¦ç»Ÿè®¡ (ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹æ—¥å†è¯¦æƒ…)</h3>
                    <div class="month-stats">
                        ${Object.keys(monthlyStats).sort().reverse().map(month => `
                            <div class="month-card" onclick="showMonthCalendarModal('${month}')">
                                <div class="month-name">${month}
                                    <span class="view-btn">æŸ¥çœ‹è¯¦æƒ…</span>
                                </div>
                                <div class="month-details">
                                    <span><strong>è®¢å•æ•°:</strong> ${monthlyStats[month].count}</span>
                                    <span><strong>æœ€ç»ˆä»˜æ¬¾:</strong> Â¥${monthlyStats[month].paymentFee.toFixed(2)}</span>
                                    <span><strong>æ€»è´¹ç”¨:</strong> Â¥${monthlyStats[month].totalFee.toFixed(2)}</span>
                                    <span><strong>æ€»ç”µé‡:</strong> ${monthlyStats[month].totalPower.toFixed(2)} kWh</span>
                                    <span><strong>å¹³å‡å•ä»·:</strong> Â¥${(monthlyStats[month].paymentFee / monthlyStats[month].totalPower).toFixed(2)}/kWh</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="analysis-section">
                    <h3>ğŸ“ ç«™ç‚¹åˆ†å¸ƒ</h3>
                    <div class="station-stats">
                        ${Object.keys(stationStats).map(station => `
                            <div class="station-stat">
                                <span class="station-name">${station}</span>
                                <span class="station-count">${stationStats[station].count}æ¬¡ Â¥${stationStats[station].paymentFee.toFixed(0)}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>

                <div class="analysis-section">
                    <h3>ğŸ“ˆ æ€»ä½“æ¦‚è§ˆ</h3>
                    <div class="month-stats">
                        <div class="month-card">
                            <div class="month-name">æ€»è®¡</div>
                            <div class="month-details">
                                <span><strong>æ€»è®¢å•:</strong> ${filteredData.length}</span>
                                <span><strong>æœ€ç»ˆä»˜æ¬¾æ€»é¢:</strong> Â¥${filteredData.reduce((sum, r) => sum + r.paymentFee, 0).toFixed(2)}</span>
                                <span><strong>æ€»è´¹ç”¨:</strong> Â¥${filteredData.reduce((sum, r) => sum + r.totalFee, 0).toFixed(2)}</span>
                                <span><strong>æ€»ç”µé‡:</strong> ${filteredData.reduce((sum, r) => sum + r.totalPower, 0).toFixed(2)} kWh</span>
                                <span><strong>å¹³å‡å•æ¬¡:</strong> Â¥${(filteredData.reduce((sum, r) => sum + r.paymentFee, 0) / filteredData.length).toFixed(2)}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            container.innerHTML = html;
        }


        // æ˜¾ç¤ºæŸå¤©çš„è®¢å•è¯¦æƒ…ï¼ˆæ‰“å¼€æ–°å¼¹çª—ï¼Œä¸å…³é—­å½“å‰å¼¹çª—ï¼‰
        function showDayOrders(dateStr) {
            const dayRecords = filteredData.filter(r => r.chargeETime.startsWith(dateStr));

            if (dayRecords.length === 0) return;

            // åˆ›å»ºæ–°å¼¹çª—ï¼ˆä¸å…³é—­å½“å‰å¼¹çª—ï¼‰
            const modalHtml = `
                <div class="modal active" id="dayOrdersModal">
                    <div class="modal-content" id="dayOrdersContent">
                        <button class="modal-close" onclick="closeDayOrdersModal()">Ã—</button>
                        <div class="modal-header">
                            <h2 id="dayOrdersTitle">å½“æ—¥è®¢å•è¯¦æƒ…</h2>
                        </div>
                        <div class="modal-body" id="dayOrdersBody"></div>
                    </div>
                </div>
            `;

            // æ·»åŠ åˆ°é¡µé¢
            document.body.insertAdjacentHTML('beforeend', modalHtml);

            const dayPayment = dayRecords.reduce((sum, r) => sum + r.paymentFee, 0);
            const dayPower = dayRecords.reduce((sum, r) => sum + r.totalPower, 0);

            let html = `
                <div class="detail-row" style="border-bottom: 2px solid var(--accent-primary); margin-bottom: 10px;">
                    <span class="detail-label" style="font-size: 1.1em;">ğŸ“… ${dateStr}</span>
                    <span class="detail-value payment" style="font-size: 1.2em;">å½“æ—¥æ€»è®¡: Â¥${dayPayment.toFixed(2)}</span>
                </div>
                <div style="margin-bottom: 10px; color: var(--text-secondary); font-size: 0.9em;">
                    å…± ${dayRecords.length} ç¬”è®¢å• | æ€»ç”µé‡ ${dayPower.toFixed(2)} kWh
                </div>
            `;

            dayRecords.forEach((record, index) => {
                html += `
                    <div style="background: var(--bg-secondary); padding: 12px; border-radius: 8px; margin-bottom: 8px; border-left: 3px solid var(--accent-primary); cursor: pointer;" onclick="showDetail('${record.orderId}')">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                            <span style="font-weight: bold; color: var(--text-primary);">${index + 1}. ${record.stationName}</span>
                            <span style="font-weight: bold; color: var(--success); font-size: 1.1em;">Â¥${record.paymentFee.toFixed(2)}</span>
                        </div>
                        <div style="font-size: 0.85em; color: var(--text-secondary);">
                            ${record.chargeSTime.split(' ')[1]} â†’ ${record.chargeETime.split(' ')[1]}
                            | ${record.totalPower}kWh | ${Math.round(record.chargeTime / 60)}åˆ†é’Ÿ
                        </div>
                        <div style="font-size: 0.8em; color: var(--text-secondary); margin-top: 3px;">
                            ç”µè´¹: Â¥${record.eleFee.toFixed(2)} | æœåŠ¡è´¹: Â¥${record.servFee.toFixed(2)} | æ€»è´¹: Â¥${record.totalFee.toFixed(2)}
                        </div>
                    </div>
                `;
            });

            html += `<div style="margin-top: 10px; font-size: 0.85em; color: var(--text-secondary);">ğŸ’¡ ç‚¹å‡»ä»»æ„è®¢å•å¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</div>`;

            document.getElementById('dayOrdersBody').innerHTML = html;
        }

        // å…³é—­å½“æ—¥è®¢å•å¼¹çª—
        function closeDayOrdersModal() {
            const modal = document.getElementById('dayOrdersModal');
            if (modal) {
                modal.remove();
            }
        }

        function filterData() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const monthFilter = document.getElementById('monthFilter').value;
            const stationFilter = document.getElementById('stationFilter').value;

            filteredData = allData.filter(record => {
                // æœç´¢è¿‡æ»¤
                if (searchTerm && !record.stationName.toLowerCase().includes(searchTerm) &&
                    !record.orderId.toLowerCase().includes(searchTerm)) {
                    return false;
                }

                // æœˆä»½è¿‡æ»¤
                if (monthFilter && !record.chargeETime.startsWith(monthFilter)) {
                    return false;
                }

                // ç«™ç‚¹è¿‡æ»¤
                if (stationFilter && record.stationName !== stationFilter) {
                    return false;
                }

                return true;
            });

            renderCurrentView();
        }

        function updateStats() {
            const totalOrders = allData.length;
            const totalPayment = allData.reduce((sum, r) => sum + r.paymentFee, 0);
            const totalPower = allData.reduce((sum, r) => sum + r.totalPower, 0);
            const avgCost = totalPayment / totalPower;

            document.getElementById('totalOrders').textContent = totalOrders;
            document.getElementById('totalPayment').textContent = totalPayment.toFixed(2);
            document.getElementById('totalPower').textContent = totalPower.toFixed(2);
            document.getElementById('avgCost').textContent = avgCost.toFixed(2);
        }

        function updateFilters() {
            // æ›´æ–°æœˆä»½ç­›é€‰å™¨
            const months = [...new Set(allData.map(r => r.chargeETime.substring(0, 7)))].sort().reverse();
            const monthFilter = document.getElementById('monthFilter');
            monthFilter.innerHTML = '<option value="">æ‰€æœ‰æœˆä»½</option>' +
                months.map(m => `<option value="${m}">${m}</option>`).join('');

            // æ›´æ–°ç«™ç‚¹ç­›é€‰å™¨
            const stations = [...new Set(allData.map(r => r.stationName))].sort();
            const stationFilter = document.getElementById('stationFilter');
            stationFilter.innerHTML = '<option value="">æ‰€æœ‰ç«™ç‚¹</option>' +
                stations.map(s => `<option value="${s}">${s}</option>`).join('');
        }

        function showDetail(orderId) {
            const record = allData.find(r => r.orderId === orderId);
            if (!record) return;

            // åˆ›å»ºæ–°å¼¹çª—ï¼ˆå°å®½åº¦ï¼Œä¸å…³é—­å½“å‰å¼¹çª—ï¼‰
            const modalHtml = `
                <div class="modal active" id="detailModal_${orderId}">
                    <div class="modal-content detail-modal">
                        <button class="modal-close" onclick="closeDetailModal('${orderId}')">Ã—</button>
                        <div class="modal-header">
                            <h2>è®¢å•è¯¦æƒ…</h2>
                        </div>
                        <div class="modal-body" id="detailBody_${orderId}"></div>
                    </div>
                </div>
            `;

            // æ·»åŠ åˆ°é¡µé¢
            document.body.insertAdjacentHTML('beforeend', modalHtml);

            const bodyHtml = `
                <div class="detail-row">
                    <span class="detail-label">è®¢å•å·:</span>
                    <span class="detail-value highlight">${record.orderId}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">å……ç”µç«™:</span>
                    <span class="detail-value">${record.stationName}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">å……ç”µå¼€å§‹:</span>
                    <span class="detail-value">${record.chargeSTime}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">å……ç”µç»“æŸ:</span>
                    <span class="detail-value">${record.chargeETime}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">å……ç”µæ—¶é•¿:</span>
                    <span class="detail-value">${Math.round(record.chargeTime / 60)} åˆ†é’Ÿ</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">å……ç”µé‡:</span>
                    <span class="detail-value success">${record.totalPower} kWh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">ç”µè´¹:</span>
                    <span class="detail-value">Â¥${record.eleFee.toFixed(2)}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">æœåŠ¡è´¹:</span>
                    <span class="detail-value warning">Â¥${record.servFee.toFixed(2)}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">æ€»è´¹ç”¨:</span>
                    <span class="detail-value">Â¥${record.totalFee.toFixed(2)}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">æœ€ç»ˆä»˜æ¬¾:</span>
                    <span class="detail-value payment">Â¥${record.paymentFee.toFixed(2)}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">å•ä»·:</span>
                    <span class="detail-value warning">Â¥${(record.paymentFee / record.totalPower).toFixed(2)}/kWh</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">æ”¯ä»˜çŠ¶æ€:</span>
                    <span class="detail-value success">å·²æ”¯ä»˜</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">è¿æ¥å™¨:</span>
                    <span class="detail-value">${record.connectorId}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">è¿è¥å•†:</span>
                    <span class="detail-value">${record.operatorId}</span>
                </div>
            `;

            document.getElementById(`detailBody_${orderId}`).innerHTML = bodyHtml;
        }

        // å…³é—­è®¢å•è¯¦æƒ…å¼¹çª—
        function closeDetailModal(orderId) {
            const modal = document.getElementById(`detailModal_${orderId}`);
            if (modal) {
                modal.remove();
            }
        }

        function closeModal() {
            const modal = document.getElementById('detailModal');
            const modalContent = document.getElementById('modalContent');
            const modalTitle = document.getElementById('modalTitle');

            modal.classList.remove('active');

            // é‡ç½®æ ·å¼å’Œæ ‡é¢˜
            setTimeout(() => {
                modalContent.classList.remove('detail-modal');
                modalTitle.textContent = 'è®¢å•è¯¦æƒ…';
            }, 300);
        }

        function showError(message) {
            const container = document.getElementById('listContent');
            container.innerHTML = `
                <div class="error-message">
                    <h3>âŒ æ•°æ®åŠ è½½å¤±è´¥</h3>
                    <p>${message}</p>
                    <p>è¯·ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®ï¼Œæˆ–æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯ã€‚</p>
                </div>
            `;
        }

        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>