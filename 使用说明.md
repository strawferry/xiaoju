# 🚀 电车充电数据可视化面板 - 使用说明

## 📋 项目概述

这是一个专为电车充电数据设计的可视化面板，包含以下功能：
- 📊 **统计概览**：总订单数、总金额、总电量、平均单价
- 📋 **列表视图**：卡片式展示所有充电记录
- 📅 **时间线视图**：按日期分组的时间线展示
- 📊 **数据分析**：月度统计、站点分布、总体概览
- 🔍 **搜索筛选**：支持按站点名称、订单号搜索，按月份和站点筛选
- 📱 **响应式设计**：完美适配手机和桌面端

## 🎯 快速开始

### 方法一：直接双击运行（推荐）⭐

1. **找到文件**：在文件夹中找到 `charging_dashboard_final.html`
2. **双击打开**：直接双击文件，浏览器会自动打开
3. **完成！** 数据已内嵌在文件中，无需任何配置

**优点**：
- ✅ 无需启动服务器
- ✅ 无需担心跨域问题
- ✅ 随时随地打开使用
- ✅ 可以离线使用

### 方法二：使用本地服务器（可选）

如果您想使用外部 `data.json` 文件（便于数据更新），可以：

1. **安装 Python**（如果未安装）
   ```bash
   # macOS
   brew install python3

   # Windows
   # 下载安装 Python 3.x
   ```

2. **启动服务器**
   ```bash
   cd /Users/m4/Desktop/xiaoju
   python3 -m http.server 8000
   ```

3. **访问页面**
   打开浏览器访问：`http://localhost:8000/charging_dashboard.html`

### 方法三：使用 VS Code（开发者推荐）

1. 安装 VS Code
2. 安装插件 "Live Server"
3. 右键 HTML 文件 → "Open with Live Server"

## 🎨 功能详解

### 1. 统计概览面板
- **总订单数**：当前筛选条件下的订单总数
- **总金额**：累计充电费用（元）
- **总电量**：累计充电量（kWh）
- **平均单价**：平均每度电的价格

### 2. 列表视图
- 卡片式展示，包含站点名称、日期、电量、时长、费用
- 点击卡片查看详细信息
- 支持实时搜索和筛选

### 3. 时间线视图
- 按日期倒序排列
- 清晰展示充电历史
- 适合查看近期充电记录

### 4. 数据分析
- **月度统计**：每月的订单数、总费用、总电量、平均单价
- **站点分布**：各充电站的使用次数
- **总体概览**：所有数据的汇总统计

### 5. 筛选功能
- **搜索框**：支持站点名称、订单号模糊搜索
- **月份筛选**：选择特定月份的数据
- **站点筛选**：选择特定充电站

## 🔧 数据格式说明

如果您想使用自己的数据，请确保 `data.json` 格式如下：

```json
[
  {
    "orderId": "订单号",
    "stationName": "充电站名称",
    "chargeSTime": "2025-01-01 12:00:00",
    "chargeETime": "2025-01-01 13:30:00",
    "chargeTime": 5400,
    "totalPower": 45.5,
    "eleFee": 35.20,
    "servFee": 10.30,
    "totalFee": 45.50,
    "connectorId": "连接器ID",
    "operatorId": "运营商ID"
  }
]
```

**必填字段**：
- `orderId`: 订单号（唯一标识）
- `stationName`: 充电站名称
- `chargeETime`: 充电结束时间（用于日期分组）
- `totalPower`: 充电量（kWh）
- `totalFee`: 总费用（元）

## 📱 移动端使用

本面板完全响应式设计，在手机上使用时：
- 导航栏会自动调整为垂直布局
- 卡片会自动适应屏幕宽度
- 触摸操作流畅

## 🎨 UI 设计特点

- **科技感配色**：深色背景 + 霓虹蓝/紫配色
- **动态效果**：悬浮动画、背景脉动
- **玻璃拟态**：半透明卡片效果
- **流畅交互**：防抖搜索、平滑过渡

## 🔍 故障排除

### 问题1：数据加载失败
**现象**：页面显示"数据加载失败"

**解决**：
- 使用 `charging_dashboard_final.html`（已内嵌数据）
- 或者确保 `data.json` 文件存在且格式正确

### 问题2：页面空白
**现象**：打开页面后一片空白

**解决**：
- 检查浏览器控制台（F12）
- 确保浏览器支持现代 JavaScript 特性
- 尝试使用 Chrome 或 Edge 浏览器

### 问题3：搜索不工作
**现象**：输入搜索词后无反应

**解决**：
- 等待 300 毫秒（防抖延迟）
- 检查是否有筛选条件冲突
- 清除筛选后重试

## 💡 使用技巧

1. **快速查看最近记录**：切换到"时间线"视图
2. **分析月度数据**：查看"数据分析" → "月度统计"
3. **查找特定站点**：使用站点筛选器
4. **导出数据**：按 F12 打开控制台，输入 `JSON.stringify(filteredData)` 复制数据
5. **查看详细信息**：点击任意记录卡片

## 📁 文件说明

- `charging_dashboard_final.html` - 完整功能版（推荐）
- `charging_dashboard_embedded.html` - 内嵌数据版
- `charging_dashboard.html` - 外部数据版（需服务器）
- `data.json` - 原始数据文件
- `使用说明.md` - 本说明文档

## 🔄 数据更新

如果需要更新数据：

**方法A：更新内嵌数据**
1. 打开 `charging_dashboard_final.html`
2. 找到 `const embeddedData = [...]`
3. 替换为新数据
4. 保存即可

**方法B：使用外部数据**
1. 更新 `data.json` 文件
2. 使用方法二或方法三启动服务
3. 访问 `charging_dashboard.html`

## 📞 技术支持

如遇到问题，请：
1. 查看浏览器控制台错误信息
2. 确保数据格式正确
3. 尝试使用不同浏览器

---

**祝您使用愉快！** 🎉

*最后更新：2026-01-07*