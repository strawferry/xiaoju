# 电车充电数据可视化面板

## 📋 功能介绍

这是一个专为电车充电订单数据设计的可视化网页应用，具有以下功能：

### 🎯 主要功能

1. **数据总览**
   - 总订单数、总费用、总电量统计
   - 本月数据与上月对比
   - 常用充电站识别
   - 月度消费趋势图表
   - 充电站分布图表

2. **列表视图**
   - 完整订单列表展示
   - 实时搜索功能（支持订单号、充电站名称）
   - 充电站筛选
   - 月份筛选
   - 数据导出为CSV

3. **时间线日历**
   - 按月份分组的时间线展示
   - 可视化充电记录时间轴
   - 详细的单次充电信息展示

4. **数据分析**
   - 极值分析（最高/最低消费、最长充电时间等）
   - 充电时段分布分析
   - 费用构成分析（电费 vs 服务费）
   - 充电效率排名
   - 月度充电频率统计

### 🎨 UI设计特点

- **科技感设计**：深色主题 + 霓虹配色
- **响应式布局**：支持手机、平板、桌面
- **流畅动画**：渐变、悬停效果、过渡动画
- **交互友好**：点击、筛选、详情弹窗

## 🚀 使用方法

### 1. 启动网页 - 推荐方案

**方案A：直接打开（推荐）**
直接在浏览器中打开 `charging_dashboard_embedded.html` 文件即可。
- ✅ 无需服务器
- ✅ 无跨域问题
- ✅ 即开即用
- ✅ 数据已内嵌

**方案B：本地服务器**
如果想使用原始版本 `charging_dashboard.html`，需要启动本地服务器：

```bash
# 方法1: Python
python3 -m http.server 8000
# 然后访问 http://localhost:8000/charging_dashboard.html

# 方法2: Node.js (需要安装http-server)
npx http-server
# 然后访问 http://localhost:8080/charging_dashboard.html

# 方法3: VS Code
# 安装 Live Server 插件，右键HTML文件选择 "Open with Live Server"
```

### 2. 选择合适的HTML文件

| 文件名 | 特点 | 适用场景 |
|--------|------|----------|
| `charging_dashboard_embedded.html` | 数据内嵌，直接打开 | ⭐ **推荐** - 快速查看、演示 |
| `charging_dashboard.html` | 从data.json读取数据 | 需要频繁更新数据时 |

### 3. 常见问题解决

#### ❌ 问题：打开网页显示 "数据加载失败"

**原因**：浏览器安全限制，禁止从文件系统直接读取JSON文件

**解决方案**（按推荐顺序）：

1. **使用内嵌版本**（最简单）
   - 直接打开 `charging_dashboard_embedded.html`
   - 无需任何配置，即开即用

2. **启动本地服务器**
   ```bash
   # 在项目目录下运行
   python3 -m http.server 8000
   # 然后在浏览器访问: http://localhost:8000/charging_dashboard.html
   ```

3. **使用VS Code Live Server**
   - 安装 "Live Server" 插件
   - 右键HTML文件 → "Open with Live Server"

4. **使用其他本地服务器工具**
   - Node.js: `npx http-server`
   - PHP: `php -S localhost:8080`
   - 任何本地服务器工具都可以

#### ❌ 问题：数据不更新

**原因**：使用了内嵌版本，数据是固定的

**解决方案**：
1. 如果需要更新数据，修改 `data.json` 文件
2. 使用 `charging_dashboard.html` 版本
3. 重新生成内嵌版本（可以找我帮忙）

#### ✅ 成功标志

如果看到以下界面，说明成功：
- 顶部有 "电车充电数据面板" 标题
- 显示 "数据加载成功！共 37 条充电记录"
- 看到统计卡片和图表

### 2. 数据要求
确保 `data.json` 文件在同一目录下，格式为：
```json
[
  {
    "orderId": "订单号",
    "stationName": "充电站名称", 
    "chargeETime": "2025-07-16 23:50:36",
    "totalFee": 34.24,
    "totalPower": 67.143,
    "eleFee": 27.53,
    "servFee": 6.71,
    "chargeTime": 2894,
    "connectorId": "连接器ID",
    "operatorId": "操作商ID",
    "stationId": "站点ID",
    "chargeSTime": "2025-07-16 23:02:22",
    "orderSTime": "2025-07-16 23:01:51",
    "orderETime": "2025-07-16 23:50:40",
    "orderStatus": 4,
    "payStatus": 3,
    "billGenerated": true,
    "deleteAllowed": true,
    "chargeSeq": "充电序列号"
  }
]
```

### 3. 导航说明
- **📊 总览**：查看整体数据统计和趋势图表
- **📋 列表**：查看详细订单列表，支持搜索和筛选
- **📅 时间线**：按月份查看充电时间线
- **📈 分析**：深度数据分析和图表展示

### 4. 交互操作
- **搜索**：在列表页面输入关键词搜索
- **筛选**：选择特定充电站或月份
- **导出**：将当前筛选结果导出为CSV
- **详情**：点击任意订单查看详细信息
- **月份选择**：在时间线页面点击月份按钮切换

## 📊 数据分析说明

### 统计指标
- **总订单数**：所有充电记录数量
- **总费用**：所有订单费用总和（电费+服务费）
- **总电量**：充电总量（kWh）
- **总时长**：充电总时长（小时）
- **平均费用**：单次平均消费

### 分析图表
- **月度消费趋势**：各月份消费金额对比
- **充电站分布**：各充电站使用频率
- **充电时段分布**：24小时充电频次
- **费用构成**：电费与服务费占比
- **充电效率**：kWh/小时排名
- **月度频率**：每月充电次数统计

## 🎯 特色功能

### 智能识别
- 自动识别常用充电站
- 智能计算充电效率
- 自动分析高峰时段

### 数据可视化
- 纯CSS实现的图表，无需外部库
- 响应式设计，适配各种设备
- 动态颜色编码，直观展示数据

### 用户体验
- 防抖搜索，提升性能
- 快速筛选，实时响应
- 详情弹窗，信息完整
- 数据导出，便于分析

## 🔧 技术栈

- **HTML5**：语义化结构
- **CSS3**：现代样式，动画效果
- **JavaScript**：原生JS，无依赖
- **Fetch API**：数据加载
- **响应式设计**：媒体查询适配

## 📝 注意事项

1. 确保浏览器支持现代JavaScript特性
2. 数据文件必须与HTML文件在同一目录
3. 建议使用Chrome、Firefox、Safari等现代浏览器
4. 首次加载可能需要几秒钟处理数据

## 🎨 主题配色

- **主色调**：霓虹蓝 (#00d4ff)
- **辅助色**：霓虹绿 (#00ff88)
- **背景色**：深蓝黑 (#0a0e27)
- **卡片色**：深蓝 (#1a1f3a)
- **危险色**：红色 (#ff4757)
- **警告色**：橙色 (#ffa502)
- **成功色**：绿色 (#2ed573)

---

**祝您使用愉快！** 🚗⚡